# âœ… 01 - To-Do List Backend API (FastAPI + PostgreSQL)

[ðŸ‘‰ Try the Live API on Render](https://langchain-level-1-2-3-apps.onrender.com)

This is the backend for a full-stack To-Do list application, built using FastAPI and PostgreSQL.

It includes full CRUD (Create, Read, Update, Delete) functionality and exposes RESTful endpoints under the `/todos` route.

The app is containerized for cloud deployment and uses Alembic for database migrations, Pydantic for data validation, and SQLAlchemy ORM for interacting with the database.

---

## ðŸ§© Concepts Used

- **FastAPI** â€” high-performance Python web framework used to create the RESTful API.
- **PostgreSQL** â€” the relational database that stores to-do items.
- **SQLAlchemy** â€” ORM used for interacting with the PostgreSQL database via Python models.
- **Alembic** â€” handles database migrations to create and update schema versions.
- **Pydantic** â€” provides data validation and serialization for request/response models.
- **Uvicorn** â€” ASGI server used to run and serve the FastAPI app.
- **httpie** â€” modern command-line tool for testing HTTP endpoints during development.
- **Render.com** â€” used for deploying the API backend to the cloud.
- **.env configuration** â€” all database settings are stored securely using environment variables.

---

## â–¶ï¸ How to Run Locally

1. **Clone the repository and navigate into the backend folder:**

```powershell
git clone https://github.com/derril-tech/langchain-level-1-2-3-apps.git
cd langchain-level-1-2-3-apps/level-3/01-to-do-app/backend-fastapi
```

2. (Optional) Create and activate a virtual environment:

```bash
python -m venv venv
source venv/Scripts/activate  # activate on Windows
```

3. Install dependencies:

```bash
pip install -r requirements.txt
```

4. **Create a `.env` file in this folder with your local PostgreSQL settings:**

   ```env
   DATABASE_HOST=localhost
   DATABASE_NAME=yourdatabasename
   DATABASE_USER=username
   DATABASE_PASSWORD=yourpassword
   DATABASE_PORT=5432
   APP_NAME="Full Stack To Do App"
   ```

````
---

5. **Apply the database schema using Alembic:**

Open your terminal, activate your virtual environment, and run the following command to apply the migration and create the `todos` table:

```bash
alembic upgrade head
````

## â–¶ï¸ Run the FastAPI Server Locally

To start the backend server in development mode with auto-reload:

```bash
uvicorn main:app --reload
```

## ðŸ§ª API Testing with HTTPie

Once the FastAPI server is running, use the following HTTPie commands in a separate terminal to test your CRUD operations:

### âœ… Create a To-Do (POST)

```bash
http POST http://127.0.0.1:8000/todos name="Walk the dog" completed=false
http GET http://127.0.0.1:8000/todos/1
http PUT http://127.0.0.1:8000/todos/1 name="Buy groceries" completed=true
http DELETE http://127.0.0.1:8000/todos/1
```

---

## ðŸ“ File Structure

```text
backend-fastapi/
â”œâ”€â”€ alembic/                     # Alembic migration folder
â”‚   â”œâ”€â”€ versions/                # Auto-generated migration scripts
â”‚   â””â”€â”€ env.py                   # Alembic configuration script
â”œâ”€â”€ routers/
â”‚   â””â”€â”€ todos.py                 # To-Do route handlers
â”œâ”€â”€ crud.py                      # Business logic for interacting with the DB
â”œâ”€â”€ database.py                  # DB engine and session configuration
â”œâ”€â”€ main.py                      # FastAPI app entry point
â”œâ”€â”€ models.py                    # SQLAlchemy models (e.g., ToDo)
â”œâ”€â”€ schemas.py                   # Pydantic schemas for request/response
â”œâ”€â”€ .env                         # Environment variables (not committed to Git)
â”œâ”€â”€ alembic.ini                  # Alembic main configuration file
â”œâ”€â”€ requirements.txt             # Python dependencies
â””â”€â”€ README.md                    # You're reading it
```

---

> ðŸ§  This app is part of your LangChain Level 3 full-stack projects.
> Optimized for deployment, environment-based configs, and scalable backend structure.
